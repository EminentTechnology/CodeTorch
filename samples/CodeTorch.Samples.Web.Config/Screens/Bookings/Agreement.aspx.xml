<?xml version="1.0" encoding="utf-8"?>
<Screen xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Name>Agreement.aspx</Name>
  <PageTemplate>
    <Mode>Static</Mode>
    <Name>App</Name>
  </PageTemplate>
  <Type>Screen</Type>
  <Folder>Bookings</Folder>
  <RequireAuthentication>true</RequireAuthentication>
  <SupportsTransactions>true</SupportsTransactions>
  <ValidateRequest>true</ValidateRequest>
  <Menu>
    <DisplayMenu>false</DisplayMenu>
  </Menu>
  <Title>
    <UseCommand>true</UseCommand>
    <CommandFormatString>{PageTitle}</CommandFormatString>
    <FormattedCommandFormatString>{FormattedPageTitle}</FormattedCommandFormatString>
    <CommandName>Worker_GetBookingTitle</CommandName>
  </Title>
  <SubTitle>
    <UseCommand>true</UseCommand>
    <CommandFormatString>{SubTitle}</CommandFormatString>
    <FormattedCommandFormatString>{FormattedSubTitle}</FormattedCommandFormatString>
    <CommandName>Worker_GetBookingTitle</CommandName>
  </SubTitle>
  <ScreenPermission>
    <CheckPermission>false</CheckPermission>
  </ScreenPermission>
  <Sections>
    <Section xsi:type="AlertSection">
      <Name>Alert</Name>
      <Type>Alert</Type>
      <Mode>All</Mode>
      <ContainerMode>None</ContainerMode>
      <Visible>true</Visible>
      <ContentPane>Top</ContentPane>
      <Permission>
        <CheckPermission>false</CheckPermission>
      </Permission>
      <Widgets />
      <AfterPopulateSection>
        <Commands />
      </AfterPopulateSection>
      <IncludeValidationSummary>false</IncludeValidationSummary>
    </Section>
    <Section xsi:type="ContentSection">
      <ID>ContentSection</ID>
      <Name>Content</Name>
      <Type>Content</Type>
      <Mode>All</Mode>
      <ContainerMode>Plain</ContainerMode>
      <Visible>true</Visible>
      <ContentPane>Left</ContentPane>
      <SelectDataCommand>Worker_GetBookingAgreementByBookingId</SelectDataCommand>
      <Permission>
        <CheckPermission>false</CheckPermission>
      </Permission>
      <Widgets />
      <AfterPopulateSection>
        <Commands />
      </AfterPopulateSection>
      <Content>&lt;h4 class="font-weight-bold py-3 mb-4"&gt;Accept Contract&lt;/h4&gt;
&lt;div class="card mb-4"&gt;
  &lt;h6 class="card-header"&gt;{AgreementTitle}&lt;/h6&gt;
  &lt;div class="card-body"&gt;{Content}&lt;/div&gt;
  &lt;div class="card-footer py-3 px-4 px-sm-5"&gt;
  	&lt;div&gt;{Footer}
	  &lt;div class="form-check"&gt;
	    &lt;input class="form-check-input" type="checkbox" value="True" name="Accepted" id="AcceptedCheck"&gt;
	    &lt;label class="form-check-label" for="AcceptedCheck"&gt;I accept the terms of this agreement&lt;/label&gt;
	  &lt;/div&gt;
	&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</Content>
    </Section>
    <Section xsi:type="ButtonListSection">
      <Name>Buttons</Name>
      <CssClass>text-center</CssClass>
      <Type>ButtonList</Type>
      <Mode>All</Mode>
      <ContainerMode>Plain</ContainerMode>
      <Visible>true</Visible>
      <ContentPane>Left</ContentPane>
      <Permission>
        <CheckPermission>false</CheckPermission>
      </Permission>
      <Widgets />
      <AfterPopulateSection>
        <Commands />
      </AfterPopulateSection>
      <Buttons>
        <Button>
          <Name>Save</Name>
          <RenderLabel>true</RenderLabel>
          <LabelWrapsControl>false</LabelWrapsControl>
          <LabelRendersBeforeControl>true</LabelRendersBeforeControl>
          <Type>Button</Type>
          <IsRequired>false</IsRequired>
          <Visible>true</Visible>
          <CssClass>btn btn-primary</CssClass>
          <Validators />
          <VisiblePermission>
            <CheckPermission>false</CheckPermission>
          </VisiblePermission>
          <EditPermission>
            <CheckPermission>false</CheckPermission>
          </EditPermission>
          <Text>Agree and Continue</Text>
          <CausesValidation>false</CausesValidation>
          <OnClick>
            <Commands>
              <ExecuteDataCommand>
                <Name>AcceptAgreement</Name>
                <Type>ExecuteDataCommand</Type>
                <ContinueOnError>false</ContinueOnError>
                <DataCommand>Worker_AcceptBookingAgreement</DataCommand>
              </ExecuteDataCommand>
              <NavigateToUrlCommand>
                <Name>GotoConfirmation</Name>
                <Type>NavigateToUrlCommand</Type>
                <ContinueOnError>false</ContinueOnError>
                <NavigateUrl>~/App/Bookings/Confirmation.aspx</NavigateUrl>
                <Context>BookingId</Context>
              </NavigateToUrlCommand>
            </Commands>
          </OnClick>
        </Button>
        <Button>
          <Name>Back</Name>
          <RenderLabel>true</RenderLabel>
          <LabelWrapsControl>false</LabelWrapsControl>
          <LabelRendersBeforeControl>true</LabelRendersBeforeControl>
          <Type>Button</Type>
          <IsRequired>false</IsRequired>
          <Visible>true</Visible>
          <CssClass>btn btn-default</CssClass>
          <Validators />
          <VisiblePermission>
            <CheckPermission>false</CheckPermission>
          </VisiblePermission>
          <EditPermission>
            <CheckPermission>false</CheckPermission>
          </EditPermission>
          <Text>Back</Text>
          <CausesValidation>false</CausesValidation>
          <OnClick>
            <Commands>
              <NavigateToUrlCommand>
                <Name>BackToReview</Name>
                <Type>NavigateToUrlCommand</Type>
                <ContinueOnError>false</ContinueOnError>
                <NavigateUrl>~/App/Bookings/Overview</NavigateUrl>
                <Context>BookingId</Context>
              </NavigateToUrlCommand>
            </Commands>
          </OnClick>
        </Button>
      </Buttons>
    </Section>
  </Sections>
  <SectionZoneLayout>SingleColumn</SectionZoneLayout>
  <SectionZoneLayoutMode>Static</SectionZoneLayoutMode>
  <Settings />
  <Scripts />
  <DataCommands>
    <DataCommand>
      <Name>Worker_GetBookingTitle</Name>
      <Parameters>
        <Parameter>
          <Name>@ProfileId</Name>
          <InputType>User</InputType>
          <InputKey>ProfileId</InputKey>
        </Parameter>
        <Parameter>
          <Name>@BookingId</Name>
          <InputType>QueryString</InputType>
          <InputKey>BookingId</InputKey>
        </Parameter>
      </Parameters>
    </DataCommand>
    <DataCommand>
      <Name>Worker_AcceptBookingAgreement</Name>
      <Parameters>
        <Parameter>
          <Name>@ProfileId</Name>
          <InputType>User</InputType>
          <InputKey>ProfileId</InputKey>
        </Parameter>
        <Parameter>
          <Name>@BookingId</Name>
          <InputType>QueryString</InputType>
          <InputKey>BookingId</InputKey>
        </Parameter>
        <Parameter>
          <Name>@Accepted</Name>
          <InputType>Form</InputType>
          <InputKey>Accepted</InputKey>
        </Parameter>
        <Parameter>
          <Name>@IPAddress</Name>
          <InputType>Special</InputType>
          <InputKey>IPAddress</InputKey>
        </Parameter>
        <Parameter>
          <Name>@CreatedBy</Name>
          <InputType>User</InputType>
          <InputKey>EmailAddress</InputKey>
        </Parameter>
      </Parameters>
    </DataCommand>
    <DataCommand>
      <Name>Worker_GetBookingAgreementByBookingId</Name>
      <Parameters>
        <Parameter>
          <Name>@ProfileId</Name>
          <InputType>User</InputType>
          <InputKey>ProfileId</InputKey>
        </Parameter>
        <Parameter>
          <Name>@BookingId</Name>
          <InputType>QueryString</InputType>
          <InputKey>BookingId</InputKey>
        </Parameter>
      </Parameters>
    </DataCommand>
  </DataCommands>
  <OnPageLoad>
    <Commands />
  </OnPageLoad>
  <OnPageInit>
    <Commands>
      <RenderPageSectionsCommand>
        <Name>RenderPageSections</Name>
        <Type>RenderPageSectionsCommand</Type>
        <ContinueOnError>false</ContinueOnError>
        <EntityInputType>QueryString</EntityInputType>
        <Mode>Simple</Mode>
      </RenderPageSectionsCommand>
    </Commands>
  </OnPageInit>
</Screen>